# warehouse-management

### Setting DB
To execute a MySQL database from docker execute the following commands:
> docker pull mysql
if linux:
> docker pull â€“platform linux/x86_64 mysql

Create a network to communicate the project with the DB
> docker network create krieger-challenge

Verify it has been created 
> docker network ls

Run the db container with followin parameters:
> docker run -p3306:3306 --name mysqlkrieger --network krieger-challenge -e MYSQL_ROOT_PASSWORD=secret -e MYSQL_DATABASE=krieger_wh_mng -e MYSQL_USER=user01 -e MYSQL_PASSWORD=secret -d mysql

Verify the db has been created:
> docker exec -it mysqlkrieger bash

Log into mysql console
>mysql -uuser01 -psecret

If login is successfull type;
> show databases;

A list of databases including **krieger_wh_mng** should be displayed
> use krieger_wh_mng;

### Curls to play with warehouse
Get the full list of warehouses
`curl -v http://localhost:8010/warehouses`

Create warehouse
`curl -d '{"code":"123","name":"Alpha","address":"Stairway to heaven 43"}' -H 'Content-Type: application/json' http://localhost:8010/warehouses`

Get a warehouse by code
`curl -v localhost:8010/warehouses/code/123`

Get a warehouse by name
`curl -v localhost:8010/warehouses/name/Alpha`

Update warehouse by Id
`curl -d '{"code":"123","name":"Beta","address":"Stairway to heaven 21"}' -H 'Content-Type: application/json' -X PUT http://localhost:8010/warehouses/1`

Delete a warehouse by code
`curl -X DELETE http://localhost:8010/warehouses/123`

It has a pagebale feature that can be tested with this
`curl -v localhost:8010/warehouses?pageNumber=0&pageSize=1`

### Curls to play with bays
Get the full list of bays from a warehouse
`curl -v http://localhost:8010/warehouse/123/bays`

Create a bay
`curl -d '{"row":"1","shelf":"3","level":"2","type":"pallet","tag":"desks","holdingPoints":"4","taken":"4"}' -H 'Content-Type: application/json' http://localhost:8010/warehouse/123/bay`

Get a bay by the warehouse code and the bay code
`curl -v http://localhost:8010/warehouse/123/bay/132`

Get a bay by the warehouse code and a tag
`curl -v http://localhost:8010/warehouse/123/bay/tag/desks`

Update bay by warehouse code and bay code
`curl -d '{"row":"1","shelf":"2","level":"3","type":"carts","tag":"chairs","holdingPoints":"6","taken":"3"}' -H 'Content-Type: application/json' -X PUT http://localhost:8010/warehouse/123/bay/132
`

Delete a warehouse code and bay code
`curl -X DELETE http://localhost:8010/warehouse/123/bay/132`

### Swagger documentation
The endpoints documentation is generated by openApi plugin and it can be found when the project is running in the next link:
`http://localhost:8010/](http://localhost:8010/swagger-ui/index.html`
or in the api_definition.json file on this project root.
